====== Report for Rasca Backups ======

**DO NOT EDIT THIS PAGE. It is generated by modularit-inventory chef cookbook. Any changes will be overwriten on next run**

===== CheckSafekeep =====

^ Host ^ Status ^ Last Update ^ Last Change ^ Last Message ^
  <% @nodes.each do |n| =%>
  <%  if n.has_key?('rasca_status') and n['rasca_status']['CheckSafekeep'] and n['rasca_status']['CheckSafekeep']['CheckSafekeep']
        @last_status=n['rasca_status']['CheckSafekeep']['CheckSafekeep'].has_key?('last_status') ? n['rasca_status']['CheckSafekeep']['CheckSafekeep']['last_status'] : "Unknown"
        @last_status="**#{@last_status}**" if @last_status != "OK"
        @last_change=n['rasca_status']['CheckSafekeep']['CheckSafekeep'].has_key?('status_last_change') ? n['rasca_status']['CheckSafekeep']['CheckSafekeep']['status_last_change'] : "Unknown"
        @last_updated=n['rasca_status']['CheckSafekeep']['CheckSafekeep'].has_key?('ctime') ? n['rasca_status']['CheckSafekeep']['CheckSafekeep']['ctime'] : "Unknown"
      @last_message=n['rasca_status']['CheckSafekeep']['CheckSafekeep'].has_key?('last_message') ? n['rasca_status']['CheckSafekeep']['CheckSafekeep']['last_message'] : "Unknown"
-%>
| <%= n.name %> | <%= @last_status %> | <%= @last_updated %> | <%= @last_change %> | <%= @last_message %> |
<%  end -%>
<% end -%>


===== CheckDuplicity =====

^ Host ^ Status ^ Last Update ^ Last Change ^ Last Message ^
<% @nodes.each do |n| =%>
<%  if n.has_key?('rasca_status') and n['rasca_status']['CheckDuplicity'] and n['rasca_status']['CheckDuplicity']['CheckDuplicity']
      @last_status=n['rasca_status']['CheckDuplicity']['CheckDuplicity'].has_key?('last_status') ? n['rasca_status']['CheckDuplicity']['CheckDuplicity']['last_status'] : "Unknown"
      @last_status="**#{@last_status}**" if @last_status != "OK"
      @last_change=n['rasca_status']['CheckDuplicity']['CheckDuplicity'].has_key?('status_last_change') ? n['rasca_status']['CheckDuplicity']['CheckDuplicity']['status_last_change'] : "Unknown"
      @last_updated=n['rasca_status']['CheckDuplicity']['CheckDuplicity'].has_key?('ctime') ? n['rasca_status']['CheckDuplicity']['CheckDuplicity']['ctime'] : "Unknown"
      @last_message=n['rasca_status']['CheckDuplicity']['CheckDuplicity'].has_key?('last_message') ? n['rasca_status']['CheckDuplicity']['CheckDuplicity']['last_message'] : "Unknown"
-%>
| <%= n.name %> | <%= @last_status %> | <%= @last_updated %> | <%= @last_change %> | <%= @last_message %> |
<%  end -%>
<% end -%>

===== CheckBackup =====

^ Host ^ Status ^ Last Update ^ Last Change ^ Last Message ^
<% @nodes.each do |n| =%>
<%  if n.has_key?('rasca_status') and n['rasca_status']['CheckBackup'] and n['rasca_status']['CheckBackup']['CheckBackup']
      @last_status=n['rasca_status']['CheckBackup']['CheckBackup'].has_key?('last_status') ? n['rasca_status']['CheckBackup']['CheckBackup']['last_status'] : "Unknown"
      @last_status="**#{@last_status}**" if @last_status != "OK"
      @last_change=n['rasca_status']['CheckBackup']['CheckBackup'].has_key?('status_last_change') ? n['rasca_status']['CheckBackup']['CheckBackup']['status_last_change'] : "Unknown"
      @last_updated=n['rasca_status']['CheckBackup']['CheckBackup'].has_key?('ctime') ? n['rasca_status']['CheckBackup']['CheckBackup']['ctime'] : "Unknown"
      @last_message=n['rasca_status']['CheckBackup']['CheckBackup'].has_key?('last_message') ? n['rasca_status']['CheckBackup']['CheckBackup']['last_message'] : "Unknown"
-%>
| <%= n.name %> | <%= @last_status %> | <%= @last_updated %> | <%= @last_change %> | <%= @last_message %> |
<%  end -%>
<% end -%>

